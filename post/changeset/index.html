<!DOCTYPE html>
<html lang="en-us">
    <head>
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-6TN7PCJZTQ"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-6TN7PCJZTQ');
</script>

        <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='changesetê³¼ GitHub Actionsë¥¼ í™œìš©í•œ ìë™ ë°°í¬ ì‹œìŠ¤í…œ êµ¬ì¶•ê¸°'><title>ğŸ¦‹ Changesetì„ í™œìš©í•œ ëª¨ë…¸ë ˆí¬ ìë™ ë°°í¬ êµ¬ì¶•í•˜ê¸°</title>
<link rel='canonical' href='https://jinyisland.kr/post/changeset/'>
<link rel="icon" href="/%20/favicon.png" type="image/png">

<link rel="stylesheet" href="/scss/style.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script><meta property='og:title' content='ğŸ¦‹ Changesetì„ í™œìš©í•œ ëª¨ë…¸ë ˆí¬ ìë™ ë°°í¬ êµ¬ì¶•í•˜ê¸°'>
<meta property='og:description' content='changesetê³¼ GitHub Actionsë¥¼ í™œìš©í•œ ìë™ ë°°í¬ ì‹œìŠ¤í…œ êµ¬ì¶•ê¸°'>
<meta property='og:url' content='https://jinyisland.kr/post/changeset/'>
<meta property='og:site_name' content='Jiny'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='ci/cd' /><meta property='article:tag' content='monorepo' /><meta property='article:published_time' content='2023-06-09T21:13:48&#43;09:00'/><meta property='article:modified_time' content='2023-06-09T21:13:48&#43;09:00'/><meta property='og:image' content='https://jinyisland.kr/../../assets/thumb/js.png' />
<meta name="twitter:title" content="ğŸ¦‹ Changesetì„ í™œìš©í•œ ëª¨ë…¸ë ˆí¬ ìë™ ë°°í¬ êµ¬ì¶•í•˜ê¸°">
<meta name="twitter:description" content="changesetê³¼ GitHub Actionsë¥¼ í™œìš©í•œ ìë™ ë°°í¬ ì‹œìŠ¤í…œ êµ¬ì¶•ê¸°"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://jinyisland.kr/../../assets/thumb/js.png' /><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<style>
    .article-content code {
        word-wrap: break-word;
    }
</style>
    </head>
    <body class="">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.body.dataset.scheme = 'dark';
        } else {
            document.body.dataset.scheme = 'light';
        }
    })();
</script><div class="container main-container flex on-phone--column extended article-page with-toolbar">
            <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            <figure class="site-avatar">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hub38313664a67c625b5c64f3cb8dc247e_143597_300x0_resize_box_2.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                

                
            </figure>
        
        <h1 class="site-name"><a href="https://jinyisland.kr">Jiny</a></h1>
        <h2 class="site-description">ğŸ˜ ìŠ¹ì§„ì´ì˜ ê³µë¶€ ë¸”ë¡œê·¸</h2>
    </header>
    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/categories/frontend/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-notebook" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff9300" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18" />
  <line x1="13" y1="8" x2="15" y2="8" />
  <line x1="13" y1="12" x2="15" y2="12" />
</svg>
                
                <span>Frontend</span>
            </a>
        </li>
        
        

        <li >
            <a href='/categories/backend/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-notebook" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#00b341" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18" />
  <line x1="13" y1="8" x2="15" y2="8" />
  <line x1="13" y1="12" x2="15" y2="12" />
</svg>
                
                <span>Backend</span>
            </a>
        </li>
        
        

        <li >
            <a href='/categories/web/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-notebook" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#00abfb" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18" />
  <line x1="13" y1="8" x2="15" y2="8" />
  <line x1="13" y1="12" x2="15" y2="12" />
</svg>
                
                <span>Web</span>
            </a>
        </li>
        
        

        <li >
            <a href='/categories/style/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-notebook" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#7f5345" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18" />
  <line x1="13" y1="8" x2="15" y2="8" />
  <line x1="13" y1="12" x2="15" y2="12" />
</svg>
                
                <span>Style</span>
            </a>
        </li>
        
        

        <li >
            <a href='/categories/book/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-notebook" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#a905b6" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18" />
  <line x1="13" y1="8" x2="15" y2="8" />
  <line x1="13" y1="12" x2="15" y2="12" />
</svg>
                
                <span>Book</span>
            </a>
        </li>
        
        

        <li >
            <a href='/categories/etc/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-notebook" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="#d63031" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18" />
  <line x1="13" y1="8" x2="15" y2="8" />
  <line x1="13" y1="12" x2="15" y2="12" />
</svg>
                
                <span>ETC</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Categories</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
            <li id="dark-mode-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                <span></span>
            </li>
        
    </ol>
</aside>
            <main class="main full-width">
    <div id="article-toolbar">
        <a href="https://jinyisland.kr" class="back-home">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



            <span>Back</span>
        </a>
    </div>

    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/post/changeset/">
                
                    <img src="../../assets/thumb/js.png" loading="lazy" alt="Featured image of post ğŸ¦‹ Changesetì„ í™œìš©í•œ ëª¨ë…¸ë ˆí¬ ìë™ ë°°í¬ êµ¬ì¶•í•˜ê¸°" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/frontend/" style="background-color: #ffeaa7; color: #000;">
                Frontend
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/post/changeset/">ğŸ¦‹ Changesetì„ í™œìš©í•œ ëª¨ë…¸ë ˆí¬ ìë™ ë°°í¬ êµ¬ì¶•í•˜ê¸°</a>
    </h2>

    
    <h3 class="article-subtitle">
        changesetê³¼ GitHub Actionsë¥¼ í™œìš©í•œ ìë™ ë°°í¬ ì‹œìŠ¤í…œ êµ¬ì¶•ê¸°
    </h3>
    <footer class="article-time">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <time class="article-time--published">Jun 09, 2023</time>
    </footer></div>
</header>

    <section class="article-content js-toc-content">
    <div class="js-toc"></div>
    <h2 id="ê°œìš”">ê°œìš”</h2>
<p>ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ë¡œ ëª¨ë…¸ë ˆí¬ ê¸°ë°˜ì˜ ë””ìì¸ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ë©´ì„œ, í•˜ìœ„ íŒ¨í‚¤ì§€ë“¤ì˜ ì†ŒìŠ¤ì½”ë“œ ìˆ˜ì • ë° ì»¤ë°‹ì‹œ Pushë¥¼ ê°ì§€í•˜ê³  ìë™ìœ¼ë¡œ ë°°í¬í•˜ëŠ” ë„êµ¬ë¥¼ ì°¾ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ ì¤‘ <strong><a class="link" href="https://github.com/changesets/changesets"  target="_blank" rel="noopener"
    >changeset</a></strong> ì´ë¼ëŠ” ë„êµ¬ë¥¼ ì•Œê²Œ ë˜ì–´, GitHub Actionsì™€ ì—°ë™í•´ ìë™ ë°°í¬ í™˜ê²½ì„ êµ¬ì¶•í•˜ë©´ì„œ ê²ªê²Œ ëœ ë‚´ìš©ë“¤ì„ ê³µìœ í•©ë‹ˆë‹¤.<br>
ê°„ëµí•œ ê°œë°œ í™˜ê²½ì„ ë§ì”€ë“œë¦¬ìë©´ yarn-berry í™˜ê²½ì˜ ëª¨ë…¸ë ˆí¬ë¡œ êµ¬ì„±ëœ í”„ë¡œì íŠ¸ì—ì„œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<h2 id="changeset-ê¸°ë³¸-ì‚¬ìš©ë²•">Changeset ê¸°ë³¸ ì‚¬ìš©ë²•</h2>
<p><code>Changeset</code>ì€ ë©€í‹° íŒ¨í‚¤ì§€ í™˜ê²½(monorepo)ì—ì„œ ìƒí˜¸ ì˜ì¡´í•˜ëŠ” íŒ¨í‚¤ì§€ë“¤ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì—¬ëŸ¬ ì˜ì¡´ëœ íŒ¨í‚¤ì§€ë“¤ì„ ì—…ë°ì´íŠ¸í•  ë•Œ ë§ˆë‹¤ ìë™ìœ¼ë¡œ Semverê·œì¹™ì— ë”°ë¼ ë²„ì „ì„ ê´€ë¦¬í•´ì£¼ê³  ê°„í¸í•œ ëª…ë ¹ì…‹ì„ í†µí•´ ì†ì‰½ê²Œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë°°í¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë¯¸ í”„ë¡œì íŠ¸ê°€ ëª¨ë…¸ë ˆí¬ í™˜ê²½ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, ê¸°ì¡´ í”„ë¡œì íŠ¸ í™˜ê²½ì—ì„œ ì ìš©í•˜ê¸° ì‰½ê³ , CI/CD ì§€ì›ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì í•©í•œ Changesetì„ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<h3 id="ì„¤ì¹˜í•˜ê¸°">ì„¤ì¹˜í•˜ê¸°</h3>
<p>ì•„ë˜ì™€ ê°™ì´ changeset íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³  initì„ í†µí•´ ê´€ë¦¬í•  í•˜ìœ„ íŒ¨í‚¤ì§€ë“¤ì„ ì„ íƒí•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ yarn add @changesets/cli <span class="o">&amp;&amp;</span> yarn changeset init
<span class="c1">#or</span>
$ npm install @changesets/cli <span class="o">&amp;&amp;</span> npx changeset init
</code></pre></div><h3 id="í™˜ê²½-ì„¤ì •">í™˜ê²½ ì„¤ì •</h3>
<p>ê¸°ë³¸ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” config.json íŒŒì¼ì—ì„œ í”„ë¡œì íŠ¸ì— ë§ê²Œ ëª‡ê°€ì§€ ìˆ˜ì •ì´ í•„ìš”í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ ì—­ì‹œë„ <a class="link" href="https://github.com/changesets/changesets/blob/main/docs/config-file-options.md"  target="_blank" rel="noopener"
    >ê³µì‹ ë¬¸ì„œ</a>ì— ì¹œì ˆí•˜ê²Œ ì„¤ëª…ì´ ë‚˜ì™€ìˆì–´ ìì‹ ì˜ í”„ë¡œì íŠ¸ì— ë§ê²Œ ì„¤ì •ì„ í•˜ì‹œë©´ ë˜ëŠ”ë°, ì ìš©í•œ ì„¤ì •ì„ ê°„ëµí•˜ê²Œ ì„¤ëª…ë“œë¦¬ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="err">//ğŸ“‚.changeset/config.json</span>
<span class="p">{</span>
  <span class="nt">&#34;$schema&#34;</span><span class="p">:</span> <span class="s2">&#34;https://unpkg.com/@changesets/config@2.3.0/schema.json&#34;</span><span class="p">,</span>
  <span class="nt">&#34;changelog&#34;</span><span class="p">:</span> <span class="s2">&#34;@changesets/cli/changelog&#34;</span><span class="p">,</span>
  <span class="nt">&#34;commit&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">&#34;fixed&#34;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&#34;linked&#34;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&#34;access&#34;</span><span class="p">:</span> <span class="s2">&#34;public&#34;</span><span class="p">,</span>
  <span class="nt">&#34;baseBranch&#34;</span><span class="p">:</span> <span class="s2">&#34;main&#34;</span><span class="p">,</span>
  <span class="nt">&#34;updateInternalDependencies&#34;</span><span class="p">:</span> <span class="s2">&#34;patch&#34;</span><span class="p">,</span>
  <span class="nt">&#34;ignore&#34;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</code></pre></div><ul>
<li><strong>access:</strong> ì•¡ì„¸ìŠ¤ ê¶Œí•œ ì„¤ì • (restricted, public)</li>
<li><strong>baseBranch:</strong> ë³€ê²½ ê°ì§€ë¥¼ ìœ„í•œ ëŒ€ìƒ ë¸Œëœì¹˜</li>
<li><strong>updateInternalDependencies:</strong> ì¢…ì†ëœ íŒ¨í‚¤ì§€ê°€ ë³€ê²½ë  ë•Œ ê°™ì´ ì—…ë°ì´íŠ¸ <code>patch</code></li>
<li><strong>commit:</strong> <code>false</code>ë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ì§ì ‘ ì»¤ë°‹</li>
</ul>
<h3 id="changeset-command">changeset command</h3>
<p><code>changeset</code> ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•˜ë©´ íŒ¨í‚¤ì§€ë“¤ì˜ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ semver ê·œì¹™ì— ë”°ë¼ ë©”ì´ì € ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í• ì§€, ì•„ë‹ˆë©´ ë§ˆì´ë„ˆ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í• ì§€ ì§ˆì˜í•©ë‹ˆë‹¤. ìŠ¤í˜ì´ìŠ¤ë°”ë¡œ ì„ íƒí•˜ì‹¤ ìˆ˜ ìˆê³ , ì„ íƒí•˜ì§€ ì•Šê³  ë„˜ì–´ê°€ë©´(Enter) ìŠ¤í‚µí•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">npx changeset
<span class="c1">#or</span>
yarn changeset

<span class="c1"># step01) ì—…ë°ì´íŠ¸ íŒ¨í‚¤ì§€ê°€ ë¬´ì—‡ì¸ì§€ ì„¤ì •í•œë‹¤.</span>
<span class="c1"># ğŸ¦‹  Which packages would you like to include? ...</span>

<span class="c1"># step02) íŒ¨í‚¤ì§€ì˜ SEMVERë¥¼ ê²°ì •í•œë‹¤. ì„ íƒë˜ì§€ ì•Šì€ íŒ¨í‚¤ì§€ëŠ” minor ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸</span>
<span class="c1"># ğŸ¦‹  Which packages should have a major bump? ...</span>

<span class="c1"># step03) ë³€ê²½ ì‚¬í•­ì„ ê°„ëµí•˜ê²Œ ì…ë ¥í•©ë‹ˆë‹¤.</span>
<span class="c1"># ğŸ¦‹  Please enter a summary for this change (this will be in the changelogs). Submit empty line to open external</span>
</code></pre></div><h3 id="version">version</h3>
<p>ë°°í¬í•˜ê¸°ë¡œ ê²°ì •í•œ í›„, ë‹¤ìŒê³¼ ê°™ì´ ë²„ì „ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤. ì„¤ì •ëœ ì—…ë°ì´íŠ¸ ê·œì¹™ì— ë”°ë¼ ë©”ì´ì € ë˜ëŠ” ë§ˆì´ë„ˆ ë²„ì „ì´ ì¦ê°€í•˜ê³ , ì˜ì¡´í•˜ê³ ìˆëŠ” íŒ¨í‚¤ì§€ë“¤ë„ ê°™ì´ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤. ë˜í•œ ë¡œê·¸ íŒŒì¼(CHANGELOG.md)ë„ í•¨ê»˜ ìƒì„±ë©ë‹ˆë‹¤.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">npx changeset version
<span class="c1">#or</span>
yarn changeset version
</code></pre></div><p>ì´ ë‹¨ê³„ ì´í›„ changeset publish ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ ë‚´ë¶€ì ìœ¼ë¡œ .npmrc íŒŒì¼ì„ ì°¸ì¡°í•´ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìë™ ë°°í¬ë¥¼ ì›í•˜ì‹œë©´ publishë¥¼ GitHub Actionsì— ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ê³  pushë¥¼ ìˆ˜í–‰í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>
<h3 id="publish">publish</h3>
<p><code>changeset publish</code>ë¥¼ ì‹¤í–‰í•˜ë©´ ì´ì „ ë‹¨ê³„ì—ì„œ ìˆ˜í–‰í•œ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ì˜ˆì •ì¸ íŒ¨í‚¤ì§€ë“¤ì„ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë°°í¬í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">npx changeset publish
<span class="c1">#or</span>
yarn changeset publish
</code></pre></div><p>ì—¬ê¸°ê¹Œì§€ê°€ ê¸°ë³¸ì ì¸ Changeset ì‚¬ìš©ë²• ì…ë‹ˆë‹¤. íŒ€ì˜ ëª©í‘œëŠ” GitHub ë ˆí¬ì§€í† ë¦¬ì˜ main ë¸Œëœì¹˜ì— pushê°€ ë˜ë©´, GitHub Actionsë¥¼ í™œìš©í•´ NPM ë ˆì§€ìŠ¤íŠ¸ë¦¬ê¹Œì§€ ìë™ìœ¼ë¡œ ë°°í¬ë˜ëŠ” íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒ ì´ì—ˆìŠµë‹ˆë‹¤.</p>
<h2 id="ìë™-ë°°í¬-êµ¬í˜„í•˜ê¸°">ìë™ ë°°í¬ êµ¬í˜„í•˜ê¸°</h2>
<h3 id="github-action">GitHub Action</h3>
<p>ì¹œì ˆí•˜ê²Œë„ changesetì—ì„œ ci/cdë¥¼ ìœ„í•´ <code>GitHub Action</code> ì›Œí¬í”Œë¡œìš° íŒŒì¼ì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” ì˜ˆì‹œì¸ë°ìš”, <a class="link" href="https://github.com/changesets/action"  target="_blank" rel="noopener"
    >actions ë¬¸ì„œ</a>ë¥¼ í™•ì¸í•˜ì‹œë©´ ìƒí™©ì— ë”°ë¼ ì—¬ëŸ¬ ì˜ˆì‹œë¥¼ ì œê³µí•´ì£¼ê³  ìˆìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Release</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">main</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">concurrency</span><span class="p">:</span><span class="w"> </span><span class="l">${{ github.workflow }}-${{ github.ref }}</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">release</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Release</span><span class="w">
</span><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Checkout Repo</span><span class="w">
</span><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v3</span><span class="w">
</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup Node.js 16.x</span><span class="w">
</span><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-node@v3</span><span class="w">
</span><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">node-version</span><span class="p">:</span><span class="w"> </span><span class="m">16.</span><span class="l">x</span><span class="w">
</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Install Dependencies</span><span class="w">
</span><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">yarn</span><span class="w">
</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Create Release Pull Request or Publish to npm</span><span class="w">
</span><span class="w">        </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">changesets</span><span class="w">
</span><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">changesets/action@v1</span><span class="w">
</span><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="c"># This expects you to have a script called release which does a build for your packages and calls changeset publish</span><span class="w">
</span><span class="w">          </span><span class="nt">publish</span><span class="p">:</span><span class="w"> </span><span class="l">yarn release</span><span class="w">
</span><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">GITHUB_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.GITHUB_TOKEN }}</span><span class="w">
</span><span class="w">          </span><span class="nt">NPM_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.NPM_TOKEN }}</span><span class="w">
</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Send a Slack notification if a publish happens</span><span class="w">
</span><span class="w">        </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l">steps.changesets.outputs.published == &#39;true&#39;</span><span class="w">
</span><span class="w">        </span><span class="c"># You can do something when a publish happens.</span><span class="w">
</span><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">my-slack-bot send-notification --message &#34;A new version of ${GITHUB_REPOSITORY} was published!&#34;</span><span class="w">
</span></code></pre></div><p>í”„ë¡œì íŠ¸ëŠ” NPM ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ê´€ë¦¬í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, GitHubì—ì„œ ì—°ë™í•  <code>NPM TOKEN</code>ì„ ì§ì ‘ ë°œê¸‰ ë°›ì•„ í”„ë¡œì íŠ¸ ë ˆí¬ì§€í† ë¦¬ì˜ ì‹œí¬ë¦¿ í‚¤ë¡œ ë“±ë¡ì„ í•˜ì…”ì•¼ í•©ë‹ˆë‹¤. <strong>NPM ì‚¬ì´íŠ¸ ì ‘ì† í›„ ë¡œê·¸ì¸ â†’ í”„ë¡œí•„ â†’ Access Tokens ë©”ë‰´</strong>ì—ì„œ ë°œê¸‰ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í† í° ìƒì„±ì‹œ íƒ€ì…ì€ ê¼­ publish íƒ€ì…ìœ¼ë¡œ ë°œê¸‰ì„ ë°›ìœ¼ì…”ì•¼ ë©ë‹ˆë‹¤.<br>
(âš ï¸Â ë°œê¸‰ í›„ ê¼­ ë³„ë„ë¡œ ë³´ê´€í•´ì£¼ì„¸ìš”, ë‹¤ì‹œëŠ” í† í° ê°’ì„ ë³¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤..)
<img src="https://github.com/yondo123/yondo123.github.io/assets/46988995/496e4384-8c3e-499c-b0e4-0de159577f4a" alt="01-npm-token"  /></p>
<p>ì´ì œ ë°œê¸‰ëœ í‚¤ë¥¼ ê¹ƒí—ˆë¸Œ ë ˆí¬ì§€í† ë¦¬ì— secret í‚¤ë¡œ ë“±ë¡í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. secret í‚¤ëŠ” GitHub Actions Workflowì—ì„œ ì‚¬ìš©ë  ë³€ìˆ˜ ê°’ì´ë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.</p>
<p><strong>ë ˆí¬ì§€í† ë¦¬ â†’ Settings íƒ­â†’ Secrets and variables â†’ Actions â†’ New repository secret</strong>ì„ í†µí•´ í‚¤ë¥¼ ë°œê¸‰í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì— NPMí† í° ê°’ì„ <code>Secret</code> í•„ë“œì— ì…ë ¥í•˜ê³ , í‚¤ ì´ë¦„ì„ <code>Name</code>ì— ì…ë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤. (ì´ë¦„ì€ ììœ ì´ë‚˜, í¸ì˜ìƒ NPM_TOKENìœ¼ë¡œ ë“±ë¡í•˜ì‹œëŠ”ê²Œ ë‚˜ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.)
<img src="https://github.com/yondo123/yondo123.github.io/assets/46988995/77fc1f31-3c43-4057-8bf8-260020aeea16" alt="02-git-secret-key"  /></p>
<p>ì, ì´ì œ ì¤€ë¹„ëŠ” ëë‚¬ìŠµë‹ˆë‹¤. ìœ„ì—ì„œ changeset ë¬¸ì„œì—ì„œ ì˜ˆì‹œë¡œ ì•Œë ¤ì¤€ Actions workflow ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì°¸ê³ í•˜ì—¬ YAML íŒŒì¼ì„ ìƒì„±í•˜ê³  í”„ë¡œì íŠ¸ ë‚´ .github/workflows íŒŒì¼ì— ì €ì¥í•œ í›„ ë ˆí¬ì§€í† ë¦¬ì— pushí•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì €ëŠ” ëª‡ ê°€ì§€ ë¬¸ì œê°€ ë°œìƒí–ˆê¸° ë•Œë¬¸ì— ì•„ë˜ì—ì„œ í•´ê²° ê³¼ì •ì„ ë§ì”€ë“œë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
<h2 id="ë¬¸ì œ-ì‚¬í•­">ë¬¸ì œ ì‚¬í•­</h2>
<h3 id="e404-error">E404 Error</h3>
<p><img src="https://github.com/yondo123/yondo123.github.io/assets/46988995/7a3d9dac-09f3-41b9-b392-45f3117e3692" alt="e404-error"  />
ìš°ì„ , ë¨¼ì € ë°œìƒí–ˆë˜ ì˜¤ë¥˜ëŠ” changesetì—ì„œ í¼ë¸”ë¦¬ì‹± ëŒ€ìƒì€ ì˜ íŒŒì•…í•˜ì§€ë§Œ, <code>changeset publish</code>ë¥¼ ìˆ˜í–‰í•˜ëŠ” ìˆœê°„ í•´ë‹¹ NPM ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ì˜€ìŠµë‹ˆë‹¤. ì €ëŠ” ì•„ë˜ì™€ ê°™ì´ ë¯¸í¡í•œ ë¶€ë¶„ì„ ì¶”ê°€í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>
<h4 id="githubtoken-ê¶Œí•œ">GithubToken ê¶Œí•œ</h4>
<p><img src="https://github.com/yondo123/yondo123.github.io/assets/46988995/d6240d37-c441-4aac-a345-ff77351f76ca" alt="token"  />
ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” GITHUB_TOKENì—ë„ write ê¶Œí•œì„ ë¶€ì—¬í•´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ë˜ì–´ ê¶Œí•œì„ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. ê¶Œí•œ ë³€ê²½ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<p><strong>ë ˆí¬ì§€í† ë¦¬ ì„¤ì • â†’ Actions íƒ­ â†’ General â†’ Workflow Permissionsì—ì„œ <code>Read and write permissions</code> í•­ëª©ìœ¼ë¡œ ë³€ê²½ í›„ ì €ì¥</strong></p>
<h4 id="organization-ê³„ì •">organization ê³„ì •</h4>
<p>ì œê°€ êµ¬ì„±í•œ ëª¨ë…¸ë ˆí¬ëŠ” organization ê³„ì •ìœ¼ë¡œ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, .npmrc íŒŒì¼ì— npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê³„ì •ì„ ì…ë ¥í•´ì•¼ë§Œ 404 ì—ëŸ¬ê°€ ë°œìƒë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. .npmrc íŒŒì¼ì€ npm ì„¤ì • íŒŒì¼ìœ¼ë¡œì¨, í”„ë¡œì íŠ¸ì—ì„œ ê´€ë¦¬ë˜ëŠ” íŒŒì¼ì€ í”„ë¡œì íŠ¸ ì™¸ë¶€ì—ì„œ ê´€ë¦¬ë˜ëŠ” íŒŒì¼ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŠµë‹ˆë‹¤.</p>
<p><strong>//registry.npmjs.org/:_authToken=${process.env.NPM_TOKEN}</strong>
ì´ ë¶€ë¶„ì— í•´ë‹¹ ë ˆí¬ì§€í† ë¦¬ê°€ ë°°í¬ë  ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì£¼ì†Œë¥¼ ì ìœ¼ë©´ ë©ë‹ˆë‹¤. GitHub Registryë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë„ ìˆì§€ë§Œ, ì €ëŠ” NPM Registryì— ë°°í¬ë¥¼ ì§„í–‰í•˜ê²Œë” í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<p>âš ï¸ ì£¼ì˜ ì‚¬í•­ìœ¼ë¡œëŠ” í”„ë¡œì íŠ¸ì— .npmrcê°€ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê²½ìš°, Actionsì˜ ì‹¤í–‰ ê³¼ì •ì—ì„œ ìƒì„±ë˜ëŠ” .npmrc íŒŒì¼ì€ ë®ì–´ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ NPM í† í°ì„ .env íŒŒì¼ì—ì„œ ì½ì–´ë“¤ì¼ì§€, ì•„ë‹ˆë©´ Actions ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì•„ë˜ì™€ ê°™ì´ .npmrc íŒŒì¼ì„ ìƒì„±í• ì§€ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤. (ì €ëŠ” í¼ë¸”ë¦­ ë ˆí¬ì§€í† ë¦¬ë¡œ ê´€ë¦¬ í•˜ê³ ìˆê¸° ë•Œë¬¸ì— ë‘ ë²ˆì§¸ ë°©ë²•ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.)</p>
<p><strong>ì˜µì…˜1) Project ë‚´ë¶€ì—ì„œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•</strong></p>
<pre><code>#./.npmrc
email=username@registry-email.com
//registry.npmjs.org/:_authToken=${process.env.NPM_TOKEN}
</code></pre><p><strong>ì˜µì…˜2) Workflowë¥¼ í†µí•´ Publish ë‹¨ê³„ ì§ì „ì— ìƒì„±í•˜ëŠ” ë°©ë²•</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#ğŸ“‚root/.github/workflows/release-action.yml</span>

<span class="c1">#changeset publish ì´ì „ ë‹¨ê³„ì— ì¶”ê°€</span>
...
- name: Create .npmrc file
        run: <span class="p">|</span>
          cat <span class="s">&lt;&lt; EOF &gt; &#34;$HOME/.npmrc&#34;
</span><span class="s">            email=username@registry-email.com
</span><span class="s">            //registry.npmjs.org/:_authToken=$NPM_TOKEN
</span><span class="s">          EOF</span>
				env:
          NPM_TOKEN: <span class="si">${</span><span class="p">{ secrets.NPM_TOKEN </span><span class="si">}</span><span class="o">}</span>
</code></pre></div><h3 id="workspace-range-ì´ìŠˆ">Workspace range ì´ìŠˆ</h3>
<p>ê¸°ì¡´ì—ëŠ” ìë™ ë°°í¬ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šê³  yarn ì»¤ë§¨ë“œë¥¼ í†µí•´ publishë¥¼ ìˆ˜í–‰í•˜ë©´ workspace ë²”ìœ„ì— ë§ê²Œ ë²„ì „ì´ ëª…ì‹œë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ changeset publishë¥¼ í†µí•´ ë°°í¬í•˜ë©´ ì œëŒ€ë¡œ ëœ ë²”ìœ„ê°€ ì„¤ì •ë˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë°°í¬ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë„ˆë¬´ë‚˜ ë§ì€ íŒ¨í‚¤ì§€ë“¤ì´ ì„œë¡œ ì˜ì¡´í•˜ê³  ìˆì–´ì„œ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ ì˜ì¡´ëœ íŒ¨í‚¤ì§€ë“¤ì„ ì§€ì •í•´ì¤„ ìˆ˜ ì—†ëŠ” ìƒí™©ì…ë‹ˆë‹¤.
<img src="https://github.com/yondo123/yondo123.github.io/assets/46988995/e499be49-2d07-40bb-935c-0b29d5a67886" alt="workspace"  /></p>
<p>ê°ì‚¬í•˜ê²Œë„, ì–´ë–¤ ì‚¬ìš©ìê°€ <strong><a class="link" href="https://github.com/changesets/changesets/issues/432"  target="_blank" rel="noopener"
    >git issue</a></strong> ì—ì„œ í•´ê²° ë°©ì•ˆì„ ì œì•ˆí•´ì£¼ì…¨ìŠµë‹ˆë‹¤. ì´ ë°©ì•ˆì€ ë£¨íŠ¸ íŒ¨í‚¤ì§€ì—ì„œ í•˜ìœ„ íŒ¨í‚¤ì§€ë¥¼ ìˆœíšŒí•˜ì—¬ yarn pack ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ íŒ¨í‚¤ì§•í•œ í›„, ë³„ë„ì˜ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ ì••ì¶•ì„ í’€ê³  í•´ë‹¹ ë””ë ‰í† ë¦¬ë¥¼ ë°°í¬í•˜ëŠ” ë°©ì‹ì´ì—ˆìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="err">//ğŸ“‚root/package.json</span>
<span class="err">...</span>
  <span class="s2">&#34;scripts&#34;</span><span class="err">:</span> <span class="p">{</span>
		<span class="err">...</span>
    <span class="nt">&#34;allpackages&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn workspaces foreach --no-private --verbose&#34;</span><span class="p">,</span>
    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn workspaces foreach run build&#34;</span><span class="p">,</span>
    <span class="nt">&#34;build:release&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn allpackages exec rm -rf _release &amp;&amp; yarn allpackages pack &amp;&amp; yarn allpackages exec \&#34;mkdir _release &amp;&amp; tar zxvf package.tgz --directory _release &amp;&amp; rm package.tgz\&#34;&#34;</span><span class="p">,</span>
    <span class="nt">&#34;release&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn build:release &amp;&amp; changeset publish&#34;</span>
  <span class="p">}</span><span class="err">,</span>
</code></pre></div><p>ìµœì¢…ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì´ ë£¨íŠ¸-í•˜ìœ„ íŒ¨í‚¤ì§€ë¥¼ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="err">//</span> <span class="err">ğŸ“‚root/package.json</span>
<span class="p">{</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;project-name&#34;</span><span class="p">,</span>
  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.2&#34;</span><span class="p">,</span>
  <span class="nt">&#34;packageManager&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn@3.3.1&#34;</span><span class="p">,</span>
  <span class="nt">&#34;homepage&#34;</span><span class="p">:</span> <span class="s2">&#34;your repository url..&#34;</span><span class="p">,</span>
  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>
		<span class="err">...</span>
    <span class="nt">&#34;allpackages&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn workspaces foreach --no-private --verbose&#34;</span><span class="p">,</span>
    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn workspaces foreach run build&#34;</span><span class="p">,</span>
    <span class="nt">&#34;build:release&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn allpackages exec rm -rf _release &amp;&amp; yarn allpackages pack &amp;&amp; yarn allpackages exec \&#34;mkdir _release &amp;&amp; tar zxvf package.tgz --directory _release &amp;&amp; rm package.tgz\&#34;&#34;</span><span class="p">,</span>
    <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;changeset version&#34;</span><span class="p">,</span>
    <span class="nt">&#34;release&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn build:release &amp;&amp; changeset publish&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;workspaces&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&#34;packages/*&#34;</span>
  <span class="p">],</span>
  <span class="nt">&#34;devDependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
		<span class="err">...</span>
  <span class="p">},</span>
  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
		<span class="err">...</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="err">//ğŸ“‚root/packages/some-package/pacakge.json</span> <span class="err">(í•˜ìœ„</span> <span class="err">íŒ¨í‚¤ì§€)</span>
<span class="p">{</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;@orgname/some-package&#34;</span><span class="p">,</span>
  <span class="nt">&#34;packageManager&#34;</span><span class="p">:</span> <span class="s2">&#34;yarn@3.3.1&#34;</span><span class="p">,</span>
  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;0.5.0&#34;</span><span class="p">,</span>
  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;src/index.ts&#34;</span><span class="p">,</span>
  <span class="nt">&#34;sideEffects&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">&#34;files&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&#34;dist&#34;</span>
  <span class="p">],</span>
  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>
		<span class="err">...</span>
    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;tsup src --dts --format esm,cjs&#34;</span><span class="p">,</span>
    <span class="nt">&#34;build:clean&#34;</span><span class="p">:</span> <span class="s2">&#34;rimraf dist/&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;@orgname/A-Package&#34;</span><span class="p">:</span> <span class="s2">&#34;workspace:*&#34;</span><span class="p">,</span>
    <span class="nt">&#34;@orgname/B-Package&#34;</span><span class="p">:</span> <span class="s2">&#34;workspace:*&#34;</span><span class="p">,</span>
		<span class="err">...</span>
  <span class="p">},</span>
  <span class="nt">&#34;devDependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
		<span class="err">...</span>
  <span class="p">},</span>
  <span class="nt">&#34;peerDependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
		<span class="err">...</span>
  <span class="p">},</span>
  <span class="nt">&#34;publishConfig&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;access&#34;</span><span class="p">:</span> <span class="s2">&#34;public&#34;</span><span class="p">,</span>
    <span class="nt">&#34;directory&#34;</span><span class="p">:</span> <span class="s2">&#34;_release/package&#34;</span><span class="p">,</span>
    <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;./dist/index.js&#34;</span><span class="p">,</span>
    <span class="nt">&#34;module&#34;</span><span class="p">:</span> <span class="s2">&#34;./dist/index.mjs&#34;</span><span class="p">,</span>
    <span class="nt">&#34;types&#34;</span><span class="p">:</span> <span class="s2">&#34;./dist/index.d.ts&#34;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Release Action</span><span class="w">
</span><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">main</span><span class="w">
</span><span class="w">  </span><span class="c">#GitHub Action ìˆ˜ë™ ì‹¤í–‰ í—ˆìš©</span><span class="w">
</span><span class="w">  </span><span class="nt">workflow_dispatch</span><span class="p">:</span><span class="w">
</span><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="c">#Node ì…‹íŒ… ë° ë ˆí¬ì§€í† ë¦¬ ì²´í¬ì•„ì›ƒ</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">checkout</span><span class="w">
</span><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Use Node.js 16.x</span><span class="w">
</span><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-node@v2</span><span class="w">
</span><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">node-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;16.x&#39;</span><span class="w">
</span><span class="w">          </span><span class="nt">token</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.WORKFLOW_TOKEN }}</span><span class="w">
</span><span class="w">          </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Install dependencies</span><span class="w">
</span><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">YARN_ENABLE_IMMUTABLE_INSTALLS</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="w">
</span><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">yarn install</span><span class="w">
</span><span class="w">        </span><span class="c"># .npmrc íŒŒì¼ ìƒì„±</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Configure npm</span><span class="w">
</span><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span><span class="sd">          cat &lt;&lt; EOF &gt; &#34;$HOME/.npmrc&#34;
</span><span class="sd">            email=user-id@email.com #NPM ê³„ì • ì£¼ì†Œ
</span><span class="sd">            //registry.npmjs.org/:_authToken=$NPM_TOKEN 
</span><span class="sd">          EOF</span><span class="w">          
</span><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">NPM_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.NPM_TOKEN }}</span><span class="w"> </span><span class="c">#NPM Token</span><span class="w">
</span><span class="w">        </span><span class="c">#íŒ¨í‚¤ì§€ë“¤ì„ ë¹Œë“œ</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build packages</span><span class="w">
</span><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">yarn build</span><span class="w">
</span><span class="w">        </span><span class="c">## Changeset Actionì„ ì‚¬ìš©í•´ NPM Resistryì— ë°°í¬</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Create Release Pull Request or Publish to npm</span><span class="w">
</span><span class="w">        </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">changesets</span><span class="w">
</span><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">changesets/action@v1</span><span class="w">
</span><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">publish</span><span class="p">:</span><span class="w"> </span><span class="l">yarn release</span><span class="w">
</span><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span><span class="w">          </span><span class="nt">NPM_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="l">${{secrets.NPM_TOKEN}}</span><span class="w">
</span><span class="w">          </span><span class="nt">GITHUB_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.GITHUB_TOKEN }}</span><span class="w">
</span></code></pre></div><p>ì´ë¡œì¨ changesetì„ í†µí•´ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ íŒ¨í‚¤ì§€ë“¤ì— ëŒ€í•œ ìˆ˜ì •ì´ ë°œìƒí•  ë•Œ ë§ˆë‹¤ ì‚¬ìš©ìëŠ” ìˆ˜ë™ìœ¼ë¡œ ì˜ì¡´ì„± ì²´í¬ì™€ ë°°í¬ ê³¼ì •ì„ í•  í•„ìš”ê°€ ì—†ì–´ ê°œë°œ ìƒì‚°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì € í˜¼ì í•˜ëŠ” í”„ë¡œì íŠ¸ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë” í¬ê²Œ ì‘ìš©í•˜ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë˜í•œ.. GitHub Issusë¥¼ í†µí•´ yarn workspace ì´ìŠˆë¥¼ ì œëŒ€ë¡œ í™•ì¸í•˜ì§€ ëª»í–ˆë‹¤ë©´ ë‹¤ë¥¸ ë°°í¬ ë„êµ¬ë¥¼ ì°¾ì•„ì„œ í•´ë§¤ê³  ìˆì—ˆì„ ê²ƒ ì…ë‹ˆë‹¤. yarnì—ì„œ ë§ì´ ì‚¬ìš©í•˜ê³  ìˆëŠ” ë‹¤ë¥¸ ìœ ëª…í•œ ë°°í¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œëŠ” <code>lerna</code>ë„ ìˆìœ¼ë‹ˆ í•œë²ˆ ê³ ë¯¼í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. :-)</p>
<h2 id="ì°¸ê³ -ìë£Œ">ì°¸ê³  ìë£Œ</h2>
<ul>
<li><a class="link" href="https://github.com/changesets/changesets"  target="_blank" rel="noopener"
    >Changeset ê³µì‹ ë¬¸ì„œ</a></li>
<li><a class="link" href="https://wallacearchivemain.gatsbyjs.io/devlog/auto-release-flow/"  target="_blank" rel="noopener"
    >Github, NPMì— ëª¨ë…¸ë ˆí¬ ìë™ ë°°í¬í•˜ê¸° - On Writing Blog</a></li>
</ul>

</section>
<script type="text/javascript">
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h2, h3, h4, h5',
        orderedList: false
    });
</script>
<style>
     
    @media all and (min-width: 1025px) {
        .js-toc {
            position: fixed;
            top: 5%;
            right: 0;
        }

        .toc-list {
            padding: 0 4px;
            width: 180px;
        }
    }

    @media all and (max-width: 1024px) {
        .js-toc-content {
            position: relative;
        }

        .js-toc {
            margin-left: 2em;
            position: static;
        }
    }

    .js-toc::before {
        color: #0984e3;
        content: 'ëª©ì°¨';
        font-weight: 700;
    }

     
    .toc-list {
        color: #636e72;
        list-style: none;
    }

    .toc-list li {
        padding-bottom: 5px;
    }

    .is-active-link::before {
        background-color: #0984e3;
    }

    .is-active-li {
        color: #0984e3;
    }

    .toc-link::before {
        width: 0;
    }
</style>

    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/ci/cd/">ci/cd</a>
        
            <a href="/tags/monorepo/">monorepo</a>
        
    </section>


    </footer>

    
</article>

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title"></h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="has-image">
    <a href="/post/react-awesome-fetching/">
        
        
            <div class="article-image">
                
                    <img src="../../assets/thumb/react.png" loading="lazy" data-key="react-awesome-fetching" data-hash="../../assets/thumb/react.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">[React] Reactì—ì„œ ìš°ì•„í•˜ê²Œ ë¹„ë™ê¸° ì²˜ë¦¬í•˜ê¸°</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/post/polyfill-and-babel/">
        
        
            <div class="article-image">
                
                    <img src="../../assets/js/js.png" loading="lazy" data-key="polyfill-and-babel" data-hash="../../assets/js/js.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Polyfillì´ ë¬´ì—‡ì¸ê°€ìš”??</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/post/react-ref/">
        
        
            <div class="article-image">
                
                    <img src="../../assets/thumb/react.png" loading="lazy" data-key="react-ref" data-hash="../../assets/thumb/react.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">[React] Refì˜ ê°œë…ê³¼ useImperativeHandle, Uncontrolled form</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/post/redux/">
        
        
            <div class="article-image">
                
                    <img src="../../assets/thumb/js.png" loading="lazy" data-key="redux" data-hash="../../assets/thumb/js.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">[Redux] Redux ì‚¬ìš©í•´ë³´ê¸°</h2>
        </div>
    </a>
</article>
                
                    
<article class="has-image">
    <a href="/post/composition-api/">
        
        
            <div class="article-image">
                
                    <img src="../../assets/thumb/vue.png" loading="lazy" data-key="composition-api" data-hash="../../assets/thumb/vue.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">[Vue] Composition API ì‚¬ìš© ë°©ë²•</h2>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>


    
        
    <div class="comments-container">
    
    <script src="https://utteranc.es/client.js"
        repo="yondo123/hugo-blog-comments"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>

<style>
    .comments-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2023 Jiny
    </section>
    
    <section class="powerby">
         <br />
        
    </section>
</footer>
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">
            </main>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"
    integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin="anonymous"></script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
